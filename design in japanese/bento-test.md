# テスト計画

## `GET /bentos/{id}` テスト計画

### 🎯 テスト目的

指定された ID の Bento を取得する API の動作を確認する。
正常系・異常系の両方を網羅し、想定外の入力に対するレスポンスも検証する。

---

### ✅ 正常系テスト

| No. | テストケース名       | 入力                          | 期待される結果                                            |
| --- | ------------- | --------------------------- | -------------------------------------------------- |
| 1   | 存在する ID で取得   | `/bentos/1`                 | 200 OK + JSON 本文に name, description, calorie が含まれる |
| 2   | 境界値（最小の有効 ID） | `/bentos/0` または `/bentos/1` | 200 OK                                             |
| 3   | フィールド検証       | `/bentos/1`                 | `name` が文字列, `calorie` が数値, `tags` が配列で返却される       |

---

### ❌ 異常系テスト

#### パラメータ不正

| No. | テストケース名        | 入力                                 | 期待される結果                                                |
| --- | -------------- | ---------------------------------- | ------------------------------------------------------ |
| 4   | ID が数値でない      | `/bentos/abc`                      | 400 Bad Request（`MethodArgumentTypeMismatchException`） |
| 5   | ID が負数         | `/bentos/-1`                       | 400 Bad Request または 404 Not Found（設計による）               |
| 6   | ID が Long の範囲外 | `/bentos/999999999999999999999999` | 400 Bad Request                                        |

#### データ不在

| No. | テストケース名  | 入力            | 期待される結果                                    |
| --- | -------- | ------------- | ------------------------------------------ |
| 7   | 存在しない ID | `/bentos/999` | 404 Not Found（`ResourceNotFoundException`） |

---

### 🛠 テスト実装上の注意

* **MockMvc** を利用して API レベルでテストする
* 正常系では `status().isOk()` と `jsonPath(...)` でレスポンス内容を検証
* 異常系（不正な型）は **サービス層をモックしない**（Spring MVC が変換エラーを投げるため）
* 異常系（存在しない ID）は **サービス層をモック** して `ResourceNotFoundException` をスローさせる
